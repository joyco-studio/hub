{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "typewriter",
  "type": "registry:component",
  "title": "Typewriter",
  "description": "A lightweight typewriter text component that cycles through phrases with minimal JavaScript.",
  "files": [
    {
      "path": "registry/joyco/blocks/typewriter.tsx",
      "content": "'use client'\n\nimport * as React from 'react'\nimport { cn } from '@/lib/utils'\n\nexport interface TypewriterProps extends React.ComponentPropsWithRef<'span'> {\n  texts: readonly string[]\n  msPerChar?: number\n  pauseMs?: number\n  deleteMsPerChar?: number\n  gapMs?: number\n  loop?: boolean\n  caret?: boolean\n}\n\nexport function Typewriter({\n  texts,\n  msPerChar = 60,\n  pauseMs = 900,\n  deleteMsPerChar = msPerChar,\n  gapMs = 150,\n  loop = true,\n  caret = true,\n  className,\n  ref,\n  ...props\n}: TypewriterProps) {\n  const [index, setIndex] = React.useState(0)\n  const text = texts[index] ?? ''\n  const [count, setCount] = React.useState(text.length)\n  const [phase, setPhase] = React.useState<'hold' | 'delete' | 'gap' | 'type' | 'pause'>('hold')\n\n  React.useEffect(() => {\n    if (phase === 'hold') {\n      const id = setTimeout(() => setPhase('delete'), pauseMs)\n      return () => clearTimeout(id)\n    }\n\n    if (phase === 'delete') {\n      if (count === 0) {\n        const isLast = index + 1 >= texts.length\n        if (isLast && !loop) return // Stop if no loop\n        setIndex(isLast ? 0 : index + 1)\n        setPhase('gap')\n        return\n      }\n      const id = setTimeout(() => setCount((c) => c - 1), deleteMsPerChar)\n      return () => clearTimeout(id)\n    }\n\n    if (phase === 'gap') {\n      const id = setTimeout(() => setPhase('type'), gapMs)\n      return () => clearTimeout(id)\n    }\n\n    if (phase === 'type') {\n      if (count < text.length) {\n        const id = setTimeout(() => setCount((c) => c + 1), msPerChar)\n        return () => clearTimeout(id)\n      }\n      setPhase('pause')\n    }\n\n    if (phase === 'pause') {\n      const id = setTimeout(() => setPhase('delete'), pauseMs)\n      return () => clearTimeout(id)\n    }\n  }, [count, phase, text.length, index, texts.length, loop, msPerChar, deleteMsPerChar, pauseMs, gapMs])\n\n  const visible = text.slice(0, count)\n\n  return (\n    <span\n      ref={ref}\n      className={cn('relative inline-block', className)}\n      {...props}\n    >\n      {/* Size holder */}\n      <span className=\"invisible inline-grid *:col-start-1 *:row-start-1 *:whitespace-pre\">\n        {texts.map((t, i) => (\n          <span key={i}>{t}</span>\n        ))}\n      </span>\n      {/* Text */}\n      <span className=\"absolute inset-0 whitespace-pre\">\n        {visible}\n        {caret && (\n          <span\n            className=\"animate-caret-blink inline-block w-px bg-current\"\n            style={{ height: '1em' }}\n          />\n        )}\n      </span>\n    </span>\n  )\n}\n",
      "type": "registry:component"
    }
  ]
}